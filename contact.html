<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Dashboard</title>
    <link rel="stylesheet" href="css/contact.css">
    <script type="text/javascript" src="js/contact.js"></script>
</head> 

<body>
    <div class="container">
        <!-- header -->
        <div class="header">
            <h2>Contacts</h2>
            <div class="create-button">
                <button class="new-contact" onclick="openPopup('createContactPopup')">Create Contact</button>
            </div>
        </div>

        <!-- search -->
        <div class="search-bar">
            <input type="text" id="search" placeholder="Search">
            <button class="search" onclick="retrieveContacts()">Search üîç</button>
        </div>

        <!--- contacts list-->
        <div class="contact-list">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Phone</th>
                        <th>Email</th>
                        <th>Edit/Delete</th>
                    </tr>
                </thead>
                <tbody id="contact-list-body">
                    <tr id="contact-row">
                        <td id="contact-name"></td>
                        <td id="contact-phone"></td>
                        <td id="contact-email"></td>
                        <td>
                            <button id="edit-contact" class="edit-btn" onclick="initiateEditContactPopup(this)">üìù</button>
                            <button id="delete-contact"class="delete-btn" onclick="deleteContact(this)">üóëÔ∏è</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Create Contact Form -->
        <div id="createContactPopup" class="popup">
            <div class="popup-content">
                <a href="#" class="close" onclick="closePopup('createContactPopup')">&times;</a>
                <h2>Create Contact</h2>
                <form>
                    <label for="first-name">First Name</label>
                    <input type="text" id="firstName" placeholder="Enter first name">

                    <label for="last-name">Last Name</label>
                    <input type="text" id="lastName" placeholder="Enter last name">

                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="Enter email">
                    
                    <label for="birthday">Birthday</label>
                    <input type="date" id="birthday" placeholder="Enter birthday">
                    
                    <label for="phone-number">Phone Number</label>
                    <input type="text" id="phoneNumber" placeholder="Enter phone number">

                    <button type="button" id="save-button" onclick="createContact()">Save</button>
                </form>
            </div>
        </div>

        <!-- Edit Contact Form -->
        <div id="editContactPopup" class="popup">
            <div class="popup-content">
                <a href="#" class="close" onclick="closePopup('editContactPopup')">&times;</a>
                <h2>Edit Contact</h2>
                <form>
                        <label for="first-name">First Name</label>
                        <input type="text" id="firstName" placeholder="Enter first name">

                        <label for="last-name">Last Name</label>
                        <input type="text" id="lastName" placeholder="Enter last name">

                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="Enter email">
                    
                        <label for="birthday">Birthday</label>
                        <input type="date" id="birthday" placeholder="Enter birthday">
                    
                        <label for="phone-number">Phone Number</label>
                        <input type="text" id="phoneNumber" placeholder="Enter phone number">

                        <button type="button" id="save-button" onclick="updateContact(this)">Save</button>
                </form>
            </div>
        </div>

        <!-- logout -->
        <button class="logout-btn" button type="submit" onclick="doLogout();">Logout</button>

        <!-- popup overlay -->
        <div id="popupOverlay" class="popup-overlay"></div>
    </div>

    <!-- popup funtionality for create and edit button -->
    <script>
        function openPopup(popupId) {
            document.getElementById(popupId).classList.add('active');
            document.getElementById('popupOverlay').classList.add('active');
        }

        function closePopup(popupId) {
            document.getElementById(popupId).classList.remove('active');
            document.getElementById('popupOverlay').classList.remove('active');
        }
    </script>

</body>
</html>
